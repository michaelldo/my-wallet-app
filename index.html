<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Finanças Pessoais</title>
    <link rel="icon" href="icon.png" type="image/x-icon" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />

    <!-- Flatpickr -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/plugins/monthSelect/style.css" />
</head>

<body class="bg-dark text-light">
    <div class="container py-4">
        <h1 class="text-center mb-4">💸 Finanças Pessoais</h1>

        <div class="mb-4 text-center">
            <label for="filtroMes" class="form-label">Filtrar por mês e ano</label>
            <input type="text" id="filtroMes" class="form-control mx-auto" placeholder="Escolha o mês/ano" />
        </div>
        <div class="row row-cols-1 row-cols-md-3 g-3">
            <div class="col">
                <div class="card bg-secondary mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Adicionar Renda</h5>
                        <input type="text" id="rendaNome" class="form-control mb-2" placeholder="Adicione uma renda" />
                        <input type="text" id="rendaInput" class="form-control mb-2"
                            placeholder="Valor da renda (R$)" />
                        <button onclick="adicionarRenda()" class="btn btn-success w-100">Adicionar</button>
                        <ul id="listaRendas" class="list-group list-group-flush mt-3"></ul>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card bg-secondary mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Gastos Variáveis</h5>
                        <input type="text" id="variavelNome" class="form-control mb-2" placeholder="Nome do gasto" />
                        <input type="text" id="variavelValor" class="form-control mb-2" placeholder="Valor (R$)" />
                        <button onclick="adicionarGastoVariavel()" class="btn btn-danger w-100">Adicionar</button>
                        <ul id="listaVariaveis" class="list-group list-group-flush mt-3"></ul>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card bg-secondary mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Gastos Fixos</h5>
                        <input type="text" id="fixoNome" class="form-control mb-2" placeholder="Nome do gasto fixo" />
                        <input type="text" id="fixoValor" class="form-control mb-2" placeholder="Valor fixo (R$)" />
                        <button onclick="adicionarGastoFixo()" class="btn btn-warning w-100">Adicionar</button>
                        <ul id="listaFixos" class="list-group list-group-flush mt-3"></ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="card bg-dark border-light mb-4">
            <div class="card-body">
                <h5 class="card-title">Resumo</h5>
                <p>💰 : <strong class="text-success">R$ <span id="totalRenda">0,00</span></strong></p>
                <p>🏠 : <strong class="text-warning">R$ <span id="totalFixos">0,00</span></strong></p>
                <p>🛒 : <strong class="text-danger">R$ <span id="totalVariaveis">0,00</span></strong></p>
                <p>📊 : <strong class="text-info">R$ <span id="saldo">0,00</span></strong></p>
            </div>
        </div>

        <div class="card bg-secondary">
            <div class="card-body">
                <h5 class="card-title">Gráfico</h5>
                <canvas id="grafico"></canvas>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/plugins/monthSelect/index.js"></script>
    <script>
        flatpickr("#filtroMes", {
            plugins: [new monthSelectPlugin({
                shorthand: false,             // <- usa nome do mês completo
                dateFormat: "Y-m",            // valor interno para salvar
                altFormat: "F Y"              // valor exibido ao usuário
            })],
            altInput: true,                 // usa input auxiliar para mostrar o `altFormat`
            theme: "dark"
        });
    </script>
    <script src="app.js"></script>
</body>

</html>